
<div class="jumbotron">
    User List
</div>

<!-- <button (click)="getUsers({index:1})">
    Get Users
</button> -->

<div>
    <div class="loader" *ngIf="loading"><i class="fas fa-sync-alt fa-spin"></i></div>
    <div>
        <div class="row" *ngIf="totalPages>1">
        <div>
            <table 
                class="table table-striped table-bordered"
                style="width:100%"
                role="grid"
                >
                <thead>
                    <tr>
                        <th
                            class="sort_users('userId')"
                            tabindex="0"
                            rowspan="1"
                            colspan="1"
                            aria-label="ID: activate to sort column ascending"
                            style="width: 150px; text-align: center; font-size: 18px;"
                            (click)="sort_users_by('userId')"
                        >ID</th>
                        <th
                            class="sort_users('name')"
                            tabindex="0"
                            rowspan="1"
                            colspan="1"
                            aria-label="Name: activate to sort column ascending"
                            aria-sort="ascending"
                            style="text-align: center; font-size: 18px;"
                            (click)="sort_users_by('name')"
                        >Name</th>
                        <th
                            class="sorting_disabled"
                            rowspan="1"
                            colspan="1"
                            aria-label="Quick actions"
                            style="width: 200px; text-align: center; font-size: 18px;"
                        >Quick actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="height: 10px; vertical-align: middle;" *ngFor="let user of users; let i = index" [attr.data-index]="i">
                        <td style="text-align: center; font-size: 16px;">{{ user.userId }}</td>
                        <td style="text-align: center; font-size: 16px;">
                            <a :href="/user/view/{{ user.userId }}">
                                {{ user.name }}
                            </a>
                        </td>
                        <td style="text-align: center; font-size: 17px;">
                            <button
                                (click)="deleteUser(user.userId)"
                                mat-icon-button
                            >
                                <mat-icon color="warn">delete</mat-icon>
                            </button>
                            <button
                                (click)="viewUser(user.userId)" 
                                mat-icon-button
                            >
                                <mat-icon color="blue">remove_red_eye</mat-icon>
                            </button>
                            <button
                                (click)="updateUser(user.userId)" 
                                mat-icon-button
                            >
                                <mat-icon color="primary">edit</mat-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row py-3" *ngIf="totalPages>1">
            <div class="col-sm-12 col-md-4">
                <div
                    class="dataTables_info"
                    id="users-list2_info"
                    role="status"
                    aria-live="polite"
                >
                    Showing {{(page_number)*page_size + 1}} 
				    to {{ paginationTo() }}
					of {{ totalElements}} entries
                </div>
            </div>
            <div class="col-sm-12 col-md-8 d-flex justify-content-end">
                <app-pagination 
                    (onPage)="getUsers($event)" 
                    [currentPage]="page_number"
                    [totalPages]="totalPages"
                ></app-pagination>
            </div>
        </div>
    </div>

</div>